"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{4232:function(e,t,n){n.d(t,{default:function(){return r.a}});var a=n(4930),r=n.n(a)},4930:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let a=n(6921);n(3827),n(4090);let r=a._(n(4795));function s(e,t){let n={loading:e=>{let{error:t,isLoading:n,pastDelay:a}=e;return null}};return"function"==typeof e&&(n.loader=e),(0,r.default)({...n,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9721:function(e,t,n){function a(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),n(9775)},4795:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let a=n(3827),r=n(4090),s=n(9721);function o(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},n=(0,r.lazy)(()=>t.loader().then(o)),c=t.loading;function i(e){let o=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,a.jsx)(n,{...e}):(0,a.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(n,{...e})});return(0,a.jsx)(r.Suspense,{fallback:o,children:l})}return i.displayName="LoadableComponent",i}},2966:function(e,t,n){var a=n(3827),r=n(4090),s=n(4344),o=n(2829),l=n(4232);let c=e=>{let{onConnect:t}=e,[n,l]=(0,r.useState)(!1),[c,i]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(""),[w,x]=(0,r.useState)(!1),[f,b]=(0,r.useState)("0"),[p,g]=(0,r.useState)(""),[y,N]=(0,r.useState)("0"),j=e=>{i(e),setTimeout(()=>{i("")},2e3)};(0,r.useEffect)(()=>{if(u(!0),window.ethereum)return window.ethereum.request({method:"eth_accounts"}).then(e=>{e.length>0&&S(e[0])}).catch(e=>{console.error("Error checking accounts:",e)}),window.ethereum.on("accountsChanged",v),window.ethereum.on("chainChanged",C),()=>{window.ethereum.removeListener("accountsChanged",v),window.ethereum.removeListener("chainChanged",C)}},[]);let v=e=>{e.length>0?S(e[0]):(m(""),b("0"),g(""))},C=e=>{T(e)},T=async e=>{g(97===parseInt(e,16)?"BSC Testnet":"Unknown Network")},k=async e=>{if(window.ethereum){let t=new s.ZPm(window.ethereum);try{let n=await t.eth.getBalance(e),a=t.utils.fromWei(n,"ether");b(parseFloat(a).toFixed(4))}catch(e){console.error("Error fetching balance:",e),b("0")}}},E=async e=>{if(window.ethereum){let t=new s.ZPm(window.ethereum);try{let n=new t.eth.Contract([{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}],o.xk.TESTNET.TTSC),a=await n.methods.balanceOf(e).call();if(a){let e=t.utils.fromWei(a.toString(),"ether");N(parseFloat(e).toFixed(4))}}catch(e){console.error("Error fetching TSC balance:",e),N("0")}}},S=async e=>{m(e),t(e),T(await window.ethereum.request({method:"eth_chainId"})),k(e),E(e)},_=async()=>{console.log("Connect wallet clicked"),l(!0),i("");try{if(!window.ethereum)throw Error("Please install MetaMask to connect your wallet");console.log("Requesting accounts...");let e=await window.ethereum.request({method:"eth_requestAccounts"});if(console.log("Accounts received:",e),!e||0===e.length)throw Error("No accounts found. Please check MetaMask");let t=e[0];console.log("Selected address:",t);let n=await window.ethereum.request({method:"eth_chainId"});if(console.log("Current chainId:",n),97!==parseInt(n,16)){console.log("Wrong network, switching to BSC Testnet...");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x61"}]}),console.log("Successfully switched to BSC Testnet")}catch(e){if(console.log("Switch error:",e),4902===e.code)console.log("Network not found, adding BSC Testnet..."),await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x61",chainName:"BSC Testnet",nativeCurrency:{name:"tBNB",symbol:"tBNB",decimals:18},rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545"],blockExplorerUrls:["https://testnet.bscscan.com"]}]}),console.log("Successfully added BSC Testnet");else throw e}}console.log("Calling onConnect with address:",t),await S(t)}catch(e){console.error("Detailed wallet connection error:",e),e instanceof Error?e.message.includes("User rejected")?i("Connection rejected. Please approve the connection in MetaMask"):i(e.message):i("Failed to connect wallet")}finally{l(!1)}};return d?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative group ml-2",children:[(0,a.jsx)("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-brand-cyan to-brand-pink rounded-lg blur opacity-50 group-hover:opacity-100 transition"}),h?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>x(!w),className:"relative px-5 py-2.5 bg-black rounded-lg leading-none flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-white text-lg font-medium",children:"".concat(h.slice(0,6),"...").concat(h.slice(-4))})]}),w&&(0,a.jsx)("div",{className:"absolute top-full right-0 mt-2 w-80 bg-black/95 border border-white/10 rounded-xl shadow-xl backdrop-blur-md p-4 z-[90]",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-brand-cyan/10 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-brand-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Connected Wallet"}),(0,a.jsx)("div",{className:"text-white font-medium",children:"".concat(h.slice(0,6),"...").concat(h.slice(-4))})]})]}),(0,a.jsx)("button",{onClick:()=>{window.open("https://testnet.bscscan.com/address/".concat(h),"_blank")},className:"text-brand-cyan hover:text-brand-cyan/80 transition-colors text-sm",children:"View on BSCScan â†—"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Balance"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-white flex items-center gap-2",children:[f," ",(0,a.jsx)("span",{className:"text-brand-cyan",children:"tBNB"})]}),(0,a.jsxs)("div",{className:"text-lg text-white flex items-center gap-2 mt-2",children:[y," ",(0,a.jsx)("span",{className:"text-brand-pink",children:"TSC"})]})]}),(0,a.jsx)("a",{href:"https://testnet.binance.org/faucet-smart",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 bg-brand-cyan/10 text-brand-cyan text-sm rounded-lg hover:bg-brand-cyan/20 transition-colors",children:"Get Test BNB"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Network"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-white font-medium",children:p})]})]}),(0,a.jsx)("button",{onClick:async()=>{try{i("");let e=await window.ethereum.request({method:"eth_chainId"});if(97===parseInt(e,16)){j("Already connected to BSC Testnet");return}await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x61"}]}).catch(async e=>{if(4902===e.code)await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x61",chainName:"BSC Testnet",nativeCurrency:{name:"tBNB",symbol:"tBNB",decimals:18},rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545"],blockExplorerUrls:["https://testnet.bscscan.com"]}]});else throw e});let t=await window.ethereum.request({method:"eth_chainId"});await T(t),h&&await k(h),j("Successfully switched to BSC Testnet")}catch(e){console.error("Network switch failed:",e),4001===e.code?i("Network switch was rejected. Please try again."):-32002===e.code?i("Please check MetaMask for pending request."):i(e.message||"Failed to switch network"),4001===e.code&&setTimeout(()=>{i("")},2e3)}},className:"px-3 py-1.5 bg-brand-cyan/10 text-brand-cyan text-sm rounded-lg hover:bg-brand-cyan/20 transition-colors",children:"Switch Network"})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(h),j("Address copied to clipboard")}catch(e){i("Failed to copy address")}},className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 transition-colors rounded-lg text-white text-sm font-medium",children:"Copy Address"}),(0,a.jsx)("button",{onClick:()=>{m(""),b("0"),g(""),x(!1)},className:"flex-1 px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-500 transition-colors rounded-lg text-sm font-medium",children:"Disconnect"})]})]})})]}):(0,a.jsx)("button",{onClick:_,disabled:n,className:"relative px-5 py-2.5 bg-black rounded-lg leading-none flex items-center disabled:opacity-50",children:(0,a.jsx)("span",{className:"text-white text-lg font-medium",children:n?"Connecting...":"Connect Wallet"})}),c&&(0,a.jsx)("div",{className:"fixed top-24 right-4 w-64 p-2 bg-red-500/10 border border-red-500/50 rounded text-sm text-red-400 z-[100] shadow-lg backdrop-blur-sm",children:c})]})}):null};t.Z=(0,l.default)(()=>Promise.resolve(c),{ssr:!1})},2829:function(e,t,n){n.d(t,{ti:function(){return r},xk:function(){return a}});let a={TESTNET:{TUSDT:"0xfA6d5d51bc2f5868B9f2A5Df217554697218605F",TTSC:"0x3efdEB8EE99EC221e8b4610489eEaF22D512cD10",LOGIC:"0x715d6D1a0879998b3f1b1A490D0c28942aB294ce"}},r={JOIN_EXPERT:"joinExpert",ACCEPT_INVITATION:"acceptInvitation",BUY_TSC:"buy",GET_EXPERT_SIZE:"getExpertSize",GET_EXPERT_INFO:"getExpertInfo",GET_INVITATION_SIZE:"getInvitationSize",GET_INVITATION_INFO:"getInvitationInfo",GET_BRAND_SIZE:"getBrandSize",GET_BRAND_INFO:"getBrandInfo"}}}]);